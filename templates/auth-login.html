{% extends 'auth-base.html' %}

{%  block title %} Login {% endblock %}

{%  block content %}
            <form method="post" class="card-body mt-1">
            {% csrf_token %}
              <h4 class="mb-1">Welcome to Mpesa C2B! üëãüèª</h4>
              <p class="mb-5">Please sign in to your account and start the adventure</p>
                
                {% if error %}
                <p class="my-2 text-danger">{{ error }}</p>
                {% endif %}

                <div class="form-floating form-floating-outline mb-5">
                  <input
                    type="email"
                    class="form-control"
                    id="username"
                    name="username"
                    placeholder="Enter your email"
                    value="{{ username }}"
                    autofocus />
                  <label for="username">Email</label>
                </div>
                <div class="mb-5">
                  <div class="form-password-toggle">
                    <div class="input-group input-group-merge">
                      <div class="form-floating form-floating-outline">
                        <input
                          type="password"
                          id="password"
                          class="form-control"
                          name="password"
                          value="{{ password }}"
                          placeholder="&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;"
                          aria-describedby="password" />
                        <label for="password">Password</label>
                      </div>
                      <span class="input-group-text cursor-pointer"><i class="ri-eye-off-line ri-20px"></i></span>
                    </div>
                  </div>
                </div>
                <div class="mb-5 pb-2 d-flex justify-content-between pt-2 align-items-center">
                  <div class="form-check mb-0">
                    <input class="form-check-input" type="checkbox" id="remember-me" />
                    <label class="form-check-label" for="remember-me"> Show Password </label>
                  </div>
                  <a href="auth-forgot-password-basic.html" class="float-end mb-1">
                    <span>Forgot Password?</span>
                  </a>
                </div>
                <div class="mb-5">
                  <button class="btn btn-primary d-grid w-100" type="submit">login</button>
                </div>

              <p class="text-center mb-5">
                <span>New on our platform?</span>
                <a href="{% url 'register' %}">
                  <span>Create an account</span>
                </a>
              </p>
            <script>
                document.addEventListener('DOMContentLoaded', () => {
                    document.getElementById('remember-me').addEventListener('click', () => {
                        const password = document.getElementById('password');
                        if (password.type === "password") {
                            password.type = "text";
                        }else{
                            password.type = "password";
                        }
                    });
                });
            </script>
            </form>
          {% endblock %}
